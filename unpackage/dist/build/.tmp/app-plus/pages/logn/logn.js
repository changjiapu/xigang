(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/logn/logn"],{"0658":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a("d737"),o={data:function(){return{password:"",phone:""}},onLoad:function(){},methods:{login:function(){var e=this,a=/^[1][3,4,5,7,8][0-9]{9}$/;if(!a.test(this.phone))return console.log(this.phone),void t.showModal({title:"",content:"请输入正确的手机号码",showCancel:!1});if(this.password){var o={phone:this.phone,password:this.password,userType:0};(0,n.login)(o).then(function(a){0==a.data.code?(console.log(a.data.data.token),t.setStorageSync("token",a.data.data.token),t.setStorageSync("userId",a.data.data.userId),e.$store.commit("SET_TOKEN",a.data.data.token),e.$store.commit("SET_USERID",a.data.data.userId),t.reLaunch({url:"/pages/index/index"})):t.showModal({title:"",content:a.data.msg,showCancel:!1})})}else t.showModal({title:"",content:"请输入密码",showCancel:!1})},weixinLogin:function(){var e=this;console.log(1111),t.getProvider({service:"oauth",success:function(a){~a.provider.indexOf("weixin")&&t.login({provider:"weixin",success:function(a){t.getUserInfo({provider:"weixin",success:function(a){console.log(JSON.stringify(a));var o={nickName:a.userInfo.nickName,avatarUrl:a.userInfo.avatarUrl,gender:a.userInfo.gender,openId:a.userInfo.openId,userType:0};console.log(555),(0,n.weChatLogin)(o).then(function(a){console.log(JSON.stringify(a)),0==a.data.code?(t.setStorageSync("token",a.data.data.token),t.setStorageSync("userId",a.data.data.userId),e.$store.commit("SET_TOKEN",a.data.data.token),e.$store.commit("SET_USERID",a.data.data.userId),t.reLaunch({url:"/pages/index/index"})):t.showModal({title:"",content:a.data.msg,showCancel:!1})})}})}})}})},register:function(){t.navigateTo({url:"/pages/register/register"})},wjPassword:function(){t.navigateTo({url:"/pages/wjPassword/wjPassword"})}}};e.default=o}).call(this,a("6e42")["default"])},"34c3":function(t,e,a){},"4a31":function(t,e,a){"use strict";a.r(e);var n=a("6050"),o=a("5b9f");for(var s in o)"default"!==s&&function(t){a.d(e,t,function(){return o[t]})}(s);a("eccf");var i=a("2877"),r=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"3a6e9071",null);e["default"]=r.exports},"5b9f":function(t,e,a){"use strict";a.r(e);var n=a("0658"),o=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=o.a},6050:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"content"},[a("image",{staticClass:"logo_2",attrs:{src:"../../static/home/logo_03.png",mode:""}}),a("image",{staticClass:"logo",attrs:{src:"../../static/home/logo_3.png",mode:""}}),a("view",{staticClass:"input"},[a("image",{attrs:{src:"../../static/home/wodedenglu_07.png",mode:""}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"number",placeholder:"请输入手机号",maxlength:"11",eventid:"5a5d8af2-0"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),a("view",{staticClass:"input"},[a("image",{attrs:{src:"../../static/home/shurumima_10.png",mode:""}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码",eventid:"5a5d8af2-1"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("view",{staticClass:"btn",attrs:{eventid:"5a5d8af2-2"},on:{click:function(e){t.login()}}},[t._v("立即登录")]),a("view",{staticClass:"logn"},[a("text",{attrs:{eventid:"5a5d8af2-3"},on:{click:function(e){t.register()}}},[t._v("新用户注册")]),a("text",{attrs:{eventid:"5a5d8af2-4"},on:{click:function(e){t.wjPassword()}}},[t._v("忘记密码?")])]),a("view",{staticClass:"third"},[t._m(0),a("view",{staticClass:"other"},[a("view",{staticClass:"weixin",attrs:{eventid:"5a5d8af2-5"},on:{click:function(e){t.weixinLogin()}}})])])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"cut"},[a("text",[t._v("其他方式登录")])])}];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return o})},a346:function(t,e,a){"use strict";a("971c");var n=s(a("b0ce")),o=s(a("4a31"));function s(t){return t&&t.__esModule?t:{default:t}}Page((0,n.default)(o.default))},eccf:function(t,e,a){"use strict";var n=a("34c3"),o=a.n(n);o.a}},[["a346","common/runtime","common/vendor"]]]);