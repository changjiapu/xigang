(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/confirmOrder/confirmOrder"],{"7ad8":function(t,e,r){"use strict";r("971c");var s=i(r("b0ce")),a=i(r("f84d"));function i(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(a.default))},bf4e:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("view",{staticClass:"content"},[r("navigator",{staticClass:"address",attrs:{url:"/pages/addressList/addressList"}},[r("image",{attrs:{src:"../../static/home/xiaodizhi_44.png",mode:""}}),t.address?r("view",{staticClass:"info"},[r("text",[t._v("收货人: "+t._s(t.address.userName)+" "+t._s(t.address.userPhone))]),r("text",[t._v("收货地址: "+t._s(t.address.province)+"-"+t._s(t.address.city)+"-"+t._s(t.address.area)+t._s(t.address.addressLine1))])]):r("view",{staticClass:"info"},[r("text",[t._v("收货人: xxxxx xxxxxxxx")]),r("text",[t._v("收货地址: xxxxxxxxxxxxx")])]),r("image",{attrs:{src:"../../static/home/gengduo_41.png",mode:""}})]),t._l(t.productList,function(e,s){return r("view",{key:s,staticClass:"product_detail"},[r("image",{attrs:{src:"../../static/home/dianpupaihangmangguo_05.png",mode:""}}),r("text",[t._v(t._s(e.productName))]),r("text",[t._v("￥"+t._s(e.productPrice)+"元/"+t._s(e.specUnit))]),r("text",{staticClass:"num"},[t._v("x"+t._s(e.productCount))]),r("text",{staticClass:"peisong"},[t._v("配送方式:"+t._s(e.expressId?"自提":"免费配送"))])])}),r("view",{staticClass:"prict"},[r("view",[r("text",[t._v("商品总额")]),r("text",{staticStyle:{color:"#E91E63"}},[t._v("￥"+t._s(t.totalPrices))])]),t._m(0)]),r("view",{staticClass:"beizhu"},[r("text",[t._v("订单备注")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.orderRemark,expression:"orderRemark"}],attrs:{type:"text",value:"",placeholder:"可输入备注,最多50个字",eventid:"24a4a31c-0"},domProps:{value:t.orderRemark},on:{input:function(e){e.target.composing||(t.orderRemark=e.target.value)}}})]),r("view",{staticClass:"btn"},[r("text",[t._v("待支付:")]),r("text",[t._v("￥"+t._s(t.totalPrices))]),r("text",{attrs:{eventid:"24a4a31c-1"},on:{click:t.addOrder}},[t._v("确认订单")])])],2)},a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("view",[r("text",[t._v("配送费")]),r("text",[t._v("￥0")])])}];r.d(e,"a",function(){return s}),r.d(e,"b",function(){return a})},d4e1:function(t,e,r){"use strict";r.r(e);var s=r("e168"),a=r.n(s);for(var i in s)"default"!==i&&function(t){r.d(e,t,function(){return s[t]})}(i);e["default"]=a.a},e168:function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=r("d737"),a=r("d931"),i=r("2f62");function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},s=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),s.forEach(function(e){o(t,e,r[e])})}return t}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d={data:function(){return{orderList:"",orderRemark:"",address:{},productList:[],totalPrices:""}},computed:n({},(0,i.mapState)(["userId"])),onLoad:function(t){if(t.orderList&&(this.orderList=t.orderList,console.log(this.orderList)),t.params&&(this.productList.push(JSON.parse(t.params)),this.totalPrices=this.productList[0].prescriptionPrice),t.paramsList){this.productList=JSON.parse(t.paramsList);var e=0,r=!0,s=!1,a=void 0;try{for(var i,n=this.productList[Symbol.iterator]();!(r=(i=n.next()).done);r=!0){var o=i.value;e=o.prescriptionPrice+e}}catch(d){s=!0,a=d}finally{try{r||null==n.return||n.return()}finally{if(s)throw a}}this.totalPrices=e}console.log(this.productList)},onShow:function(){this.getUserAddressListByUserId(this.userId)},methods:{getUserAddressListByUserId:function(t){var e=this;(0,s.getUserAddressListByUserId)(t).then(function(t){if(0==t.data.code){var r=!0,s=!1,a=void 0;try{for(var i,n=t.data.data[Symbol.iterator]();!(r=(i=n.next()).done);r=!0){var o=i.value;o.isDefault?e.address=o:e.address=t.data.data[0]}}catch(d){s=!0,a=d}finally{try{r||null==n.return||n.return()}finally{if(s)throw a}}}})},addOrder:function(){var e={userId:this.userId,orderIds:this.orderList,addressId:this.address.addressId,orderRemark:this.addressId};(0,a.confirmOrderByShopCart)(e).then(function(e){0==e.data.code&&(t.showToast({title:"订单确认成功",icon:"none",duration:1e3}),setTimeout(function(e){t.switchTab({url:"/pages/order/order"})},2e3))})}}};e.default=d}).call(this,r("6e42")["default"])},f3b9:function(t,e,r){"use strict";var s=r("f741"),a=r.n(s);a.a},f741:function(t,e,r){},f84d:function(t,e,r){"use strict";r.r(e);var s=r("bf4e"),a=r("d4e1");for(var i in a)"default"!==i&&function(t){r.d(e,t,function(){return a[t]})}(i);r("f3b9");var n=r("2877"),o=Object(n["a"])(a["default"],s["a"],s["b"],!1,null,"53fcbb9b",null);e["default"]=o.exports}},[["7ad8","common/runtime","common/vendor"]]]);